<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ejercicios de Red (1–10)</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; line-height: 1.45; margin: 0; background: #f7f7f9; color: #222; }
    header { background: #111827; color: #fff; padding: 16px 20px; }
    main { padding: 20px; max-width: 960px; margin: 0 auto; }
    section { background: #fff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom: 16px; }
    h1 { margin: 0; font-size: 22px; }
    h2 { margin-top: 0; font-size: 18px; }
    ul, ol { margin: 8px 0 0 20px; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background: #0b1021; color: #bef264; padding: 10px 12px; border-radius: 8px; overflow-x: auto; }
    .grid { display: grid; gap: 8px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
    .kpi { background: #f3f4f6; border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px; }
    .kpi b { display: block; font-size: 20px; }
  </style>
</head>
<body>
  <header><h1>Ejercicios de Red (1–10)</h1></header>
  <main>
    <section id="ej1"><h2>Ejercicio 1: Objeto Router</h2><ul id="ej1-content"></ul></section>
    <section id="ej2"><h2>Ejercicio 2: Array de Dispositivos de Red</h2><ul id="ej2-content"></ul></section>
    <section id="ej3"><h2>Ejercicio 3: Filtrar dispositivos Cisco</h2><ul id="ej3-content"></ul></section>
    <section id="ej4"><h2>Ejercicio 4: Direcciones IP de Servidores</h2><ul id="ej4-content"></ul></section>
    <section id="ej5"><h2>Ejercicio 5: Paquetes de datos filtrados y ordenados</h2><ul id="ej5-content"></ul></section>
    <section id="ej6"><h2>Ejercicio 6: Estadísticas de tráfico de red</h2><ul id="ej6-content"></ul></section>
    <section id="ej7"><h2>Ejercicio 7: Conexiones de red por protocolo</h2><ul id="ej7-content"></ul></section>
    <section id="ej8"><h2>Ejercicio 8: Filtrar y transformar alertas de seguridad</h2><ul id="ej8-content"></ul></section>
    <section id="ej9"><h2>Ejercicio 9: Informe de la topología de red</h2><div id="ej9-content"></div></section>
    <section id="ej10"><h2>Ejercicio 10: Analizar y optimizar topología de red</h2><div id="ej10-content"></div></section>
  </main>

  <script>
    // --- Ejercicio 1 ---
    const router = { modelo: "AX1800", marca: "TP-Link", puertos: 4, velocidad: 1800, soportaWifi: true };
    const ej1Content = document.getElementById("ej1-content");
    for (const key in router) {
      const li = document.createElement("li");
      li.textContent = `${key}: ${router[key]}`;
      ej1Content.appendChild(li);
    }

    // --- Ejercicio 2 ---
    const dispositivos = [
      { tipo: "Router",  marca: "Cisco",    modelo: "1941",           precio: 1200 },
      { tipo: "Switch",  marca: "TP-Link",  modelo: "TL-SG108",       precio: 150  },
      { tipo: "Firewall",marca: "Fortinet", modelo: "FG-60E",         precio: 500  },
      { tipo: "Access Point", marca: "Ubiquiti", modelo: "UniFi AP AC Pro", precio: 320 },
      { tipo: "Router",  marca: "Netgear",  modelo: "Nighthawk X6",   precio: 350  }
    ];
    const ej2Content = document.getElementById("ej2-content");
    dispositivos.forEach(d => {
      const li = document.createElement("li");
      li.textContent = `${d.tipo} - ${d.marca} ${d.modelo} ($${d.precio})`;
      ej2Content.appendChild(li);
    });

    // --- Ejercicio 3 ---
    const dispositivosRed = dispositivos.concat([
      { tipo: "Router",  marca: "Cisco", modelo: "1941",      precio: 1200 },
      { tipo: "Firewall",marca: "Cisco", modelo: "ASA 5506-X",precio: 2500 }
    ]);
    const ciscoDispositivos = dispositivosRed.filter(d => d.marca === "Cisco");
    const ej3Content = document.getElementById("ej3-content");
    ciscoDispositivos.forEach(d => {
      const li = document.createElement("li");
      li.textContent = `${d.tipo} - ${d.modelo} ($${d.precio})`;
      ej3Content.appendChild(li);
    });

    // --- Ejercicio 4 ---
    const servidores = [
      { nombre: "Servidor Web",           ip: "192.168.1.10", sistema: "Linux"   },
      { nombre: "Servidor de Base de Datos", ip: "192.168.1.11", sistema: "Windows" },
      { nombre: "Servidor de Correo",     ip: "192.168.1.12", sistema: "Linux"   },
      { nombre: "Servidor DNS",           ip: "192.168.1.13", sistema: "Linux"   },
      { nombre: "Servidor FTP",           ip: "192.168.1.14", sistema: "Linux"   }
    ];
    const ej4Content = document.getElementById("ej4-content");
    servidores.map(s => s.ip).forEach(ip => {
      const li = document.createElement("li");
      li.textContent = ip;
      ej4Content.appendChild(li);
    });

    // --- Ejercicio 5 ---
    const paquetesDatos = [
      { id: 1, origen: "192.168.1.5", destino: "192.168.1.10", tamaño: 1200, prioridad: 3 },
      { id: 2, origen: "192.168.1.7", destino: "192.168.1.12", tamaño: 800,  prioridad: 1 },
      { id: 3, origen: "192.168.1.3", destino: "192.168.1.11", tamaño: 1500, prioridad: 5 },
      { id: 4, origen: "192.168.1.8", destino: "192.168.1.14", tamaño: 950,  prioridad: 2 },
      { id: 5, origen: "192.168.1.2", destino: "192.168.1.13", tamaño: 2000, prioridad: 4 }
    ];
    const filtrados = paquetesDatos
      .filter(p => p.tamaño > 1000)
      .sort((a, b) => b.prioridad - a.prioridad);
    const ej5Content = document.getElementById("ej5-content");
    filtrados.forEach(p => {
      const li = document.createElement("li");
      li.textContent = `ID: ${p.id} - Origen: ${p.origen} - Destino: ${p.destino} - Tamaño: ${p.tamaño} - Prioridad: ${p.prioridad}`;
      ej5Content.appendChild(li);
    });

    // --- Ejercicio 6 ---
    const traficoRed = {
      "08:00": 1250, "09:00": 1870, "10:00": 2100, "11:00": 1950,
      "12:00": 1600, "13:00": 1300, "14:00": 1700, "15:00": 2200,
      "16:00": 1800, "17:00": 1500
    };
    const totalDatos = Object.values(traficoRed).reduce((a, b) => a + b, 0);
    let maxHora = "", maxValor = -Infinity;
    for (const [hora, valor] of Object.entries(traficoRed)) {
      if (valor > maxValor) { maxValor = valor; maxHora = hora; }
    }
    const ej6Content = document.getElementById("ej6-content");
    for (const [hora, valor] of Object.entries(traficoRed)) {
      const li = document.createElement("li");
      li.textContent = `${hora} - ${valor} MB`;
      ej6Content.appendChild(li);
    }
    const liTotal = document.createElement("li");
    liTotal.textContent = `Total datos: ${totalDatos} MB`;
    ej6Content.appendChild(liTotal);
    const liMax = document.createElement("li");
    liMax.textContent = `Hora con mayor tráfico: ${maxHora} (${maxValor} MB)`;
    ej6Content.appendChild(liMax);

    // --- Ejercicio 7 ---
    const conexiones = [
      { id: 1, origen: "192.168.1.5", destino: "192.168.1.10", protocolo: "HTTP"  },
      { id: 2, origen: "192.168.1.7", destino: "192.168.1.12", protocolo: "FTP"   },
      { id: 3, origen: "192.168.1.3", destino: "192.168.1.11", protocolo: "SSH"   },
      { id: 4, origen: "192.168.1.8", destino: "192.168.1.14", protocolo: "HTTP"  },
      { id: 5, origen: "192.168.1.2", destino: "192.168.1.13", protocolo: "HTTPS" },
      { id: 6, origen: "192.168.1.6", destino: "192.168.1.10", protocolo: "FTP"   },
      { id: 7, origen: "192.168.1.9", destino: "192.168.1.15", protocolo: "SSH"   },
      { id: 8, origen: "192.168.1.4", destino: "192.168.1.11", protocolo: "HTTP"  }
    ];
    const conexionesPorProtocolo = {};
    conexiones.forEach(c => {
      conexionesPorProtocolo[c.protocolo] = (conexionesPorProtocolo[c.protocolo] || 0) + 1;
    });
    const ej7Content = document.getElementById("ej7-content");
    for (const [protocolo, cantidad] of Object.entries(conexionesPorProtocolo)) {
      const li = document.createElement("li");
      li.textContent = `${protocolo}: ${cantidad} conexiones`;
      ej7Content.appendChild(li);
    }

    // --- Ejercicio 8 ---
    const dispositivosEj8 = [
      { id: 1, nombre: "PC-Desarrollo", ip: "192.168.1.5",  tipo: "Estación de trabajo" },
      { id: 2, nombre: "PC-Marketing",  ip: "192.168.1.7",  tipo: "Estación de trabajo" },
      { id: 3, nombre: "Servidor-Web",  ip: "192.168.1.10", tipo: "Servidor" },
      { id: 4, nombre: "Servidor-BD",   ip: "192.168.1.11", tipo: "Servidor" }
    ];
    const conexionesActivas = [
      { origen: "192.168.1.5", destino: "192.168.1.10", protocolo: "HTTP",  bytes:  8500 },
      { origen: "192.168.1.7", destino: "192.168.1.11", protocolo: "MySQL", bytes: 12000 },
      { origen: "192.168.1.5", destino: "192.168.1.11", protocolo: "MySQL", bytes:  9200 }
    ];
    const informeActividad = conexionesActivas.map(conexion => {
      const origenDispositivo  = dispositivosEj8.find(d => d.ip === conexion.origen);
      const destinoDispositivo = dispositivosEj8.find(d => d.ip === conexion.destino);
      return {
        origen:   origenDispositivo  ? origenDispositivo.nombre  : conexion.origen,
        destino:  destinoDispositivo ? destinoDispositivo.nombre : conexion.destino,
        protocolo: conexion.protocolo,
        bytes:     conexion.bytes
      };
    });
    const alertas = informeActividad.map(con => {
      let nivel = "bajo";
      if (con.bytes > 10000 || con.protocolo === "MySQL") nivel = "alto";
      return { ...con, nivel };
    });
    const alertasAltas = alertas
      .filter(a => a.nivel === "alto")
      .map(a => ` Alerta ALTA: ${a.origen} → ${a.destino} | ${a.protocolo} (${a.bytes} bytes)`);
    const ej8Content = document.getElementById("ej8-content");
    alertasAltas.forEach(msg => {
      const li = document.createElement("li");
      li.textContent = msg;
      ej8Content.appendChild(li);
    });

    // --- Ejercicio 9 ---
    const topologiaRed9 = {
      nodos: [
        { id: "A", tipo: "Router", ubicacion: "Planta 1" },
        { id: "B", tipo: "Switch", ubicacion: "Planta 1" },
        { id: "C", tipo: "Switch", ubicacion: "Planta 2" },
        { id: "D", tipo: "Switch", ubicacion: "Planta 3" },
        { id: "E", tipo: "Router", ubicacion: "Planta 3" }
      ],
      conexiones: [
        { origen: "A", destino: "B", ancho_banda: 1000 },
        { origen: "A", destino: "C", ancho_banda: 1000 },
        { origen: "B", destino: "C", ancho_banda: 100  },
        { origen: "B", destino: "D", ancho_banda: 100  },
        { origen: "C", destino: "D", ancho_banda: 100  },
        { origen: "C", destino: "E", ancho_banda: 1000 },
        { origen: "D", destino: "E", ancho_banda: 1000 }
      ]
    };
    const conexionesPorNodo9 = {};
    topologiaRed9.nodos.forEach(n => conexionesPorNodo9[n.id] = 0);
    topologiaRed9.conexiones.forEach(c => {
      conexionesPorNodo9[c.origen]++; conexionesPorNodo9[c.destino]++;
    });
    const nodosOrdenados9 = Object.entries(conexionesPorNodo9).sort((a,b) => b[1] - a[1]);
    const sugerencias9 = nodosOrdenados9
      .filter(([, cant]) => cant > 2)
      .map(([nodo, cant]) => {
        const info = topologiaRed9.nodos.find(n => n.id === nodo);
        return ` El nodo ${nodo} (${info.tipo}, ${info.ubicacion}) tiene ${cant} conexiones. Se recomienda aumentar el ancho de banda.`;
      });

    const ej9Content = document.getElementById("ej9-content");
    const listaConexiones9 = document.createElement("ul");
    for (const [nodo, cant] of Object.entries(conexionesPorNodo9)) {
      const li = document.createElement("li");
      li.textContent = `Nodo ${nodo}: ${cant} conexiones`;
      listaConexiones9.appendChild(li);
    }
    ej9Content.appendChild(Object.assign(document.createElement("h3"), { textContent: "Conexiones por nodo:" }));
    ej9Content.appendChild(listaConexiones9);

    const listaOrdenados9 = document.createElement("ol");
    nodosOrdenados9.forEach(([nodo, cant]) => {
      const li = document.createElement("li");
      li.textContent = `Nodo ${nodo}: ${cant} conexiones`;
      listaOrdenados9.appendChild(li);
    });
    ej9Content.appendChild(Object.assign(document.createElement("h3"), { textContent: "Nodos ordenados:" }));
    ej9Content.appendChild(listaOrdenados9);

    const listaSugerencias9 = document.createElement("ul");
    sugerencias9.forEach(msg => {
      const li = document.createElement("li");
      li.textContent = msg;
      listaSugerencias9.appendChild(li);
    });
    ej9Content.appendChild(Object.assign(document.createElement("h3"), { textContent: "Sugerencias:" }));
    ej9Content.appendChild(listaSugerencias9);

    // --- Ejercicio 10 ---
    const topologiaRed10 = {
      nodos: [
        { id: "A", tipo: "Router", ubicacion: "Planta 1" },
        { id: "B", tipo: "Switch", ubicacion: "Planta 1" },
        { id: "C", tipo: "Switch", ubicacion: "Planta 2" },
        { id: "D", tipo: "Switch", ubicacion: "Planta 3" },
        { id: "E", tipo: "Router", ubicacion: "Planta 3" }
      ],
      conexiones: [
        { origen: "A", destino: "B", ancho_banda: 1000 },
        { origen: "A", destino: "C", ancho_banda: 1000 },
        { origen: "B", destino: "C", ancho_banda: 100  },
        { origen: "B", destino: "D", ancho_banda: 100  },
        { origen: "C", destino: "D", ancho_banda: 100  },
        { origen: "C", destino: "E", ancho_banda: 1000 },
        { origen: "D", destino: "E", ancho_banda: 1000 }
      ]
    };
    const conexionesPorNodo10 = {};
    topologiaRed10.nodos.forEach(n => conexionesPorNodo10[n.id] = 0);
    topologiaRed10.conexiones.forEach(c => {
      conexionesPorNodo10[c.origen]++; conexionesPorNodo10[c.destino]++;
    });
    const nodosOrdenados10 = Object.entries(conexionesPorNodo10).sort((a,b) => b[1] - a[1]);
    const sugerencias10 = nodosOrdenados10
      .filter(([, cant]) => cant > 2)
      .map(([nodo, cant]) => {
        const info = topologiaRed10.nodos.find(n => n.id === nodo);
        return ` El nodo ${nodo} (${info.tipo}, ${info.ubicacion}) tiene ${cant} conexiones. Se recomienda aumentar su ancho de banda o balancear la carga.`;
      });

    const ej10Content = document.getElementById("ej10-content");

    const resumen10 = document.createElement("div");
    resumen10.className = "grid";
    const totalCon = topologiaRed10.conexiones.length;
    const maxCon = nodosOrdenados10[0]?.[1] ?? 0;
    const nodoTop = nodosOrdenados10[0]?.[0] ?? "-";
    resumen10.innerHTML = `
      <div class="kpi"><span>Total conexiones</span><b>${totalCon}</b></div>
      <div class="kpi"><span>Máx. conexiones en un nodo</span><b>${maxCon}</b></div>
      <div class="kpi"><span>Nodo más conectado</span><b>${nodoTop}</b></div>
    `;
    ej10Content.appendChild(resumen10);

    const listaConexiones10 = document.createElement("ul");
    for (const [nodo, cant] of Object.entries(conexionesPorNodo10)) {
      const li = document.createElement("li");
      li.textContent = `Nodo ${nodo}: ${cant} conexiones`;
      listaConexiones10.appendChild(li);
    }
    ej10Content.appendChild(Object.assign(document.createElement("h3"), { textContent: "Conexiones por nodo:" }));
    ej10Content.appendChild(listaConexiones10);

    const listaOrdenados10 = document.createElement("ol");
    nodosOrdenados10.forEach(([nodo, cant]) => {
      const li = document.createElement("li");
      li.textContent = `Nodo ${nodo}: ${cant} conexiones`;
      listaOrdenados10.appendChild(li);
    });
    ej10Content.appendChild(Object.assign(document.createElement("h3"), { textContent: "Nodos ordenados (↓):" }));
    ej10Content.appendChild(listaOrdenados10);

    const listaSugerencias10 = document.createElement("ul");
    if (sugerencias10.length === 0) {
      const li = document.createElement("li");
      li.textContent = "No se requieren optimizaciones por ahora.";
      listaSugerencias10.appendChild(li);
    } else {
      sugerencias10.forEach(msg => {
        const li = document.createElement("li");
        li.textContent = msg;
        listaSugerencias10.appendChild(li);
      });
    }
    ej10Content.appendChild(Object.assign(document.createElement("h3"), { textContent: "Sugerencias:" }));
    ej10Content.appendChild(listaSugerencias10);
  </script>
</body>
</html>


